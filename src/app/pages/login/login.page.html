<ion-content [fullscreen]="true">
  <div class="login-container">
    
    <!-- Logo & Welcome Section -->
    <div class="welcome-section">
      <div class="logo-container">
        <ion-icon name="people-circle-outline"></ion-icon>
      </div>
      <h1>שלנו</h1>
      <p class="tagline">ניהול משותף חכם להורים</p>
    </div>

    <!-- Login Form -->
    <div class="form-container">
      <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
        
        <!-- Email Field -->
        <div class="form-group">
          <label for="email">אימייל</label>
          <div class="input-wrapper" [class.invalid]="isFieldInvalid('email')">
            <ion-icon name="mail-outline"></ion-icon>
            <input
              id="email"
              type="email"
              formControlName="email"
              placeholder="example@email.com"
              autocomplete="email"
            />
          </div>
          <span class="error-message" *ngIf="isFieldInvalid('email')">
            {{ getErrorMessage('email') }}
          </span>
        </div>

        <!-- Password Field -->
        <div class="form-group">
          <label for="password">סיסמה</label>
          <div class="input-wrapper" [class.invalid]="isFieldInvalid('password')">
            <ion-icon name="lock-closed-outline"></ion-icon>
            <input
              id="password"
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              placeholder="••••••••"
              autocomplete="current-password"
            />
            <button 
              type="button" 
              class="toggle-password"
              (click)="togglePasswordVisibility()">
              <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
            </button>
          </div>
          <span class="error-message" *ngIf="isFieldInvalid('password')">
            {{ getErrorMessage('password') }}
          </span>
        </div>

        <!-- Remember Me & Forgot Password -->
        <div class="form-options">
          <label class="checkbox-label">
            <input type="checkbox" formControlName="rememberMe">
            <span class="checkbox-custom"></span>
            <span class="checkbox-text">זכור אותי</span>
          </label>
          
          <button type="button" class="link-button" (click)="goToForgotPassword()">
            שכחתי סיסמה
          </button>
        </div>

        <!-- Login Button -->
        <button 
          type="submit" 
          class="login-button"
          [class.loading]="isLoading"
          [disabled]="isLoading">
          <span *ngIf="!isLoading">התחבר</span>
          <ion-spinner *ngIf="isLoading" name="crescent"></ion-spinner>
        </button>

        <div class="auth-error" *ngIf="authError">
          <ion-icon name="alert-circle-outline"></ion-icon>
          <span>{{ authError }}</span>
        </div>

      </form>

      <!-- Divider -->
      <div class="divider">
        <span>או</span>
      </div>

      <!-- Social Login -->
      <div class="social-login">
        <button type="button" class="social-button google">
          <ion-icon name="logo-google"></ion-icon>
          <span>המשך עם Google</span>
        </button>
        
        <button type="button" class="social-button apple">
          <ion-icon name="logo-apple"></ion-icon>
          <span>המשך עם Apple</span>
        </button>
      </div>

      <!-- Signup Link -->
      <div class="signup-link">
        <span>עדיין אין לך חשבון?</span>
        <button type="button" class="link-button" (click)="goToSignup()">
          הירשם עכשיו
        </button>
      </div>
    </div>

  </div>
</ion-content>
